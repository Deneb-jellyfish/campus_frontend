<template>
  <view class="hot-posts-card">
    <!-- æ ‡é¢˜ -->
    <view class="card-header">
      <text class="card-title">ğŸ”¥ çƒ­é—¨å¸–å­</text>
      <text class="more-btn" @click="handleMoreClick">æŸ¥çœ‹æ›´å¤š â€º</text>
    </view>

    <!-- çƒ­é—¨å¸–å­åˆ—è¡¨ -->
    <view class="posts-container">
      <view
        class="post-item"
        v-for="post in topics"
        :key="post.id"
        @click="handlePostClick(post)"
      >
        <!-- å†…å®¹åŒº -->
        <view class="post-content">
		  <text class="topic-tag">#</text>
          <text class="post-text">
            {{ post.title.length > 25 ? post.title.slice(0, 25) + '...' : post.title }}

          </text>
          <text class="post-hot-icon">{{ post.hot ? 'ğŸ”¥' : '' }}</text>
        </view>

        <!-- åº•éƒ¨å…ƒä¿¡æ¯ -->
        <view class="post-meta">
          <text class="post-views">æµè§ˆ {{ post.views }}</text>
          
        </view>
      </view>
    </view>
  </view>
</template>

<script>
export default {
  name: "HotTopics",
  props: {
    topics: {
      type: Array,
      default: () => [],
    },
  },
  methods: {
    // ç‚¹å‡»çƒ­é—¨å¸–å­ â†’ é€šçŸ¥çˆ¶ç»„ä»¶
    handlePostClick(post) {
      this.$emit("topic-click", post); // é¦–é¡µå·²ç»åœ¨ç›‘å¬è¿™ä¸ªäº‹ä»¶
    },
    // æŸ¥çœ‹æ›´å¤š
    handleMoreClick() {
      this.$emit("more-click");
    },
  },
};
</script>

<style scoped>
.hot-posts-card {
  margin: 20rpx 30rpx;
  background-color: #fff;
  border-radius: 20rpx;
  padding: 30rpx;
  box-shadow: 0 4rpx 15rpx rgba(0, 0, 0, 0.08);
}

/* æ ‡é¢˜åŒº */
.card-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 25rpx;
  padding-bottom: 20rpx;
  border-bottom: 2rpx solid #f0f0f0;
}

.card-title {
  font-size: 32rpx;
  font-weight: bold;
  color: #333;
}

.more-btn {
  font-size: 26rpx;
  color: #999;
}
.topic-tag { color: #8bc34a; font-size: 32rpx; font-weight: bold; margin-right: 10rpx; }

/* å†…å®¹åˆ—è¡¨ */
.posts-container {
  display: flex;
  flex-direction: column;
  gap: 20rpx;
}

.post-item {
  padding: 20rpx;
  background-color: #fafafa;
  border-radius: 15rpx;
  transition: all 0.2s;
}

.post-item:active {
  background-color: #f0f0f0;
}

/* å†…å®¹æ–‡æœ¬ */
.post-content {
  display: flex;
  align-items: center;
  margin-bottom: 15rpx;
}

.post-text {
  font-size: 28rpx;
  color: #333;
  flex: 1;
}

.post-hot-icon {
  font-size: 30rpx;
  margin-left: 10rpx;
}

/* åº•éƒ¨æ•°æ® */
.post-meta {
  display: flex;
  justify-content: space-between;
  margin-top: 10rpx;
}

.post-views,
.post-likes {
  font-size: 24rpx;
  color: #999;
}
</style>
